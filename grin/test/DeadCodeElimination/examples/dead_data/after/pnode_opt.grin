{- NOTE:
  P2foo is renamed to P2foo.1 because the name generation
  takes the node name as base. So here foo will be the base,
  for which a name was already generated: P1foo.0.
-}
grinMain =
  a0 <- pure (CInt.0)
  a1 <- pure (CInt 5)
  a2 <- pure (CInt.0)
  p0 <- store a0
  p1 <- store a1
  p2 <- store a2

  foo3   <- pure (P3foo)

  (P3foo) <- pure foo3
  foo2    <- pure (P2foo.1)

  (P2foo.1) <- pure foo2
  v0        <- pure (#undefined :: #ptr)
  foo1      <- pure (P1foo.0 p1)

  (P1foo.0 v2) <- pure foo1
  v1           <- pure (#undefined :: #ptr)
  fooRet       <- foo v1 v2 p2

  pure fooRet


foo x0 y0 z0 =
  y0' <- fetch y0
  (CInt n) <- y0'
  pure y0'


